<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Material Stock Management</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .form-container {
            max-width: 600px;
            margin: auto;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label {
            margin-top: 10px;
        }
        input, select, button {
            padding: 10px;
            margin-top: 5px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h2>Material Stock Management</h2>
        <form id="stockForm">
            <label for="material">Material:</label>
            <select id="material" name="material">
                <option value="Cement">Cement</option>
                <option value="Steel">Steel</option>
                <option value="Bricks">Bricks</option>
            </select>

            <label for="transactionType">Transaction Type:</label>
            <select id="transactionType" name="transactionType" onchange="toggleFields()">
                <option value="in">Stock In</option>
                <option value="out">Stock Out</option>
            </select>

            <label for="issuedTo">Issued To/Returned From:</label>
            <input type="text" id="issuedTo" name="issuedTo" required>

            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" required>

            <label for="balance">Available Stock:</label>
            <input type="number" id="balance" name="balance" value="0" readonly>

            <button type="button" onclick="submitForm()">Submit</button>
        </form>
    </div>

    <script>
        const stock = {
            'Cement': 100,
            'Steel': 50,
            'Bricks': 200
        };

        function toggleFields() {
            const type = document.getElementById('transactionType').value;
            const quantityField = document.getElementById('quantity');

            if (type === 'out') {
                quantityField.max = stock[document.getElementById('material').value];
            }
        }

        function submitForm() {
            const material = document.getElementById('material').value;
            const type = document.getElementById('transactionType').value;
            const quantity = parseInt(document.getElementById('quantity').value);
            const balanceField = document.getElementById('balance');

            if (type === 'out' && quantity > stock[material]) {
                alert('Not enough stock available');
                return;
            }

            if (type === 'in') {
                stock[material] += quantity;
            } else {
                stock[material] -= quantity;
            }

            balanceField.value = stock[material];
            alert('Transaction recorded successfully!');
        }
    </script>
</body>
</html>
